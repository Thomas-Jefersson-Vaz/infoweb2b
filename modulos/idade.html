<!DOCTYPE html>
<html lang="en">
	<head>
    <!--Se eu não ganhar nota completa vou ficar triste-->


    <!--Meta-->
		
		<meta charset="UTF-8">

    <!--Links externos-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    
		<!--css-->
	  <link rel="stylesheet" href="css/idade.css"/>
		<title>Calc de idade</title>

  </head>
  <body>

    <div id="title">
      <h1>Calculadora de idade</h1>
      <a href="../index.html">Voltar</a>
    </div>

		<div id="inputs"> 
			<input type="number" id="n1" placeholder="Ano de nascimento" class="input-padrao"/>
			<button type="submit" onClick="Calc()"  id="bt1" class="button-padrao">Calcular</button>
		</div>

		<div>
			<label>Já fez aniversário este ano ?
			</label>
			<label for="cb1">Sim
				<input type="radio" name="cb" id="cb1">
			</label>
			<label for="cb2">Não
				<input type="radio" name="cb" id="cb2">
			</label>
		</div>

    <p>Resposta: </p>
		<div id="caixa">
      
		</div>

		<script>
			function a(){
				if($('#cb1').is(":checked")){
					var b = "Sim";
					return (b);
				}
				if($('#cb2').is(":checked")){
					var b = "Não";
					return (b);
				}
			}

				//key listener para a página inteira
				//keyup porque se usar keydown ele aplica várias vezes
				//function(event) é obrigatório
    		document.addEventListener("keyup", function(event) {
    			event.preventDefault();
    			if (event.keyCode === 13) {
     		   Calc();
						console.log("enter")
    			}
				});


			function Calc(){
      	var x = document.getElementById("n1").value;
       	var d = new Date();
       	var ano = d.getFullYear();
        var idade = (ano-x);
        var texto = a(); 
				var idade2 = (idade - 1);
				switch(texto){
					case "Sim":
						mostra("Você tem " + idade + " anos de idade" + "<br> Parabéns atrasado");
						break;
					case "Não":
						mostra("Você tem " + idade2 + " anos de idade" + "<br> Parabéns adiantado");
						break;
					default:
						mostra("responda a pergunta");
						break;}
    	}

			function mostra(txt){
	 			var Exibir = document.getElementById("caixa").innerHTML = txt;
			}
		</script>	
  </body>
</html>